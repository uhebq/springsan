$animation-duration: 0.3s
$animation-timing-function: cubic-bezier(.58,-0.23,.3,1.3)
$animation-stretch: 2
$animation-distance: 60px

$background: #F6F4E8
$background_shaded: #7F6544

html
  box-sizing: border-box

*, *:before, *:after
  box-sizing: inherit

body
  background: $background
  color: #313030
  font-family: "soleil", Helvetica, sans-serif

@keyframes blurIn
  0%
    transform: translate3d(0,-#{$animation-distance},0) scale(0.9,#{$animation-stretch})
    filter: blur(3px)
    opacity: 0
  100%
    transform: translate3d(0,0,0) scale(1)
    filter: blur(0)
    opacity: 1

@keyframes blurOut
  0%
    transform: translate3d(0,0,0) scale(1)
    filter: blur(0)
    opacity: 1
  100%
    transform: translate3d(0,#{$animation-distance},0) scale(0.9,#{$animation-stretch})
    filter: blur(3px)
    opacity: 0

@keyframes pulseEllipsis
  0%
    box-shadow: -3px 0 0 rgba($background_shaded, 0.6), -9px 0 0 rgba($background_shaded, 0.6), -15px 0 0 rgba($background_shaded, 0.6)
  20%
    box-shadow: -3px 0 rgba($background_shaded, 0.6), -9px 0 0 rgba($background_shaded, 0.6), -15px 0 0 rgba($background_shaded, 1)
  40%
    box-shadow: -3px 0 0 rgba($background_shaded, 0.6), -9px 0 0 rgba($background_shaded, 1), -15px 0 0 rgba($background_shaded, 0.6)
  60%
    box-shadow: -3px 0 0 rgba($background_shaded, 1), -9px 0 0 rgba($background_shaded, 0.6), -15px 0 0 rgba($background_shaded, 0.6)
  
@keyframes fadeInOutLong
  0%, 35%
    opacity: 0
  40%, 85%
    opacity: 1
  90%, 100%
    opacity: 0

#loader
  background: $background
  width: 400px
  position: fixed
  top: 50%
  left: 50%
  text-align: center
  transform: translate3d(-50%,-50%,0)
  
  // &:after
  //   content: "(We're still prepping the menu. Check back in a bit!)"
  //   font-size: 14px
  //   color: rgba($background_shaded, 0.6)
  //   position: absolute
  //   display: block
  //   left: 0
  //   right: 0
  //   bottom: -32px
  //   text-align: center
  //   animation: fadeInOutLong 15s ease-in both
  
  .emoji, .text
    animation-name: blurIn
    animation-duration: $animation-duration
    animation-timing-function: $animation-timing-function
    animation-fill-mode: both
  
  .emoji
    display: block
    font-size: 3.5em
    margin-bottom: 0.2em
    animation-delay: 0.1s
    
  .text
    line-height: 1
    color: $background_shaded
    font-size: 20px
    margin-right: -14px // Optically center for ellipsis
    &:after
      content: ''
      display: inline-block
      background: transparent
      width: 3px
      height: 3px
      border-radius: 50%
      margin-left: 18px
      box-shadow: -3px 0 0 rgba($background_shaded, 0.6), -9px 0 0 rgba($background_shaded, 0.6), -15px 0 0 rgba($background_shaded, 0.6)
      animation: pulseEllipsis 0.8s infinite both ease-in-out
    
  .animateOut
    animation-name: blurOut
    animation-duration: $animation-duration
    animation-timing-function: $animation-timing-function
    animation-fill-mode: both